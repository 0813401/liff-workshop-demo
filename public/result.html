<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LIFF Workshop</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>


<body>
  <div class="container">
    <h1 id="campaignName"></h1>
    <ul id="memberList" class="list-group list-group-flush"></ul>
  </div>
  <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    const params = new URL(location).searchParams;
    const campaignId = params.get('campaignId');
    fetch('/campaigns/' + campaignId).then(function (result){
      return result.json();
    }).then(function (result) {
      document.getElementById('campaignName').textContent = result[0].campaignname;
      document.getElementById('memberList').innerHTML = result.map(member =>
        `<li class="list-group-item">${member.name} ${member.is_join ? '參加' : '不參加'}</li>`
      ).join('');
    });
  </script>
</body>

</html>